pipeline {
    agent{
       label 'lms-slave'
    }
  
  environment {

    DOCKERHUB_CREDENTIALS = credentials('lms-credentials')
     registry = "yoursureshdockerhub/lms-api"
        registryCredential = 'lms-credentials'
        dockerImage = ''
    }
        stages {
     
         stage('creating  new docker network') {
            steps {
               
                sh 'docker network create lmsnetwork'
            }
        }
      

        
         stage('building the docker image') {
            steps {
               
                sh 'cd api && docker build -t yoursureshdockerhub/lms-api .'
            }
          
        }

      }
    

}
